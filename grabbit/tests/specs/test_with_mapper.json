{
  "name": "test_with_mapper",
  "index" : {
    "exclude" : [".*derivatives.*"]
  },
  "entities": [
    {
      "name": "subject",
      "pattern": "sub-(\\d+)",
      "directory": "{{root}}/{subject}"
    },
    {
      "name": "session",
      "pattern": "ses-0*(\\d+)",
      "mandatory": false,
      "directory": "{{root}}/{subject}/{session}",
      "missing_value": "ses-1"
    },
    {
      "name": "run",
      "pattern": "run-0*(\\d+)"
    },
    {
      "name": "type",
      "pattern": ".*_(.*?)\\."
    },
    {
      "name": "task",
      "pattern": "task-(.*?)-"
    },
    {
      "name": "acquisition",
      "pattern": "acq-(.*?)-"
    },
    {
      "name": "bval",
      "pattern": "(.*\\.bval)"
    },
    {
      "name": "hash",
      "map_func": "hash_file"
    }
  ]
}
